# Home02 卡片圖片輪播功能更新

## 🎯 更新內容

根據您的要求，我們已經完成以下修改：

### ✅ 移除的功能

- **背景圖片顯示** - 移除了 Home02 中左側大圖的背景圖片
- **images[2] 的背景用途** - 不再作為背景圖使用

### 🆕 新增的功能

- **卡片圖片輪播** - images[1] 和 images[2] 在卡片中互相輪播
- **智能輪播判斷** - 只有當兩張圖片不同時才會輪播
- **自動切換時間** - 每 3 秒自動切換一次卡片圖片

## 🔧 技術實現

### 新增狀態管理

```javascript
const [cardImageIndex, setCardImageIndex] = useState(1); // 控制卡片圖片輪播
```

### 智能輪播邏輯

```javascript
// 檢查是否有兩張不同的圖片可以輪播
const hasImage1 = currentItem.images[1];
const hasImage2 = currentItem.images[2];
const canAlternate = hasImage1 && hasImage2 && hasImage1 !== hasImage2;

if (!canAlternate) {
  // 如果不能輪播，就固定使用 images[1]
  setCardImageIndex(1);
  return;
}

// 每3秒切換一次卡片圖片
const cardInterval = setInterval(() => {
  setCardImageIndex((prevIndex) => (prevIndex === 1 ? 2 : 1));
}, 3000);
```

### 動態圖片顯示

```jsx
<li
  className="card_img fade-in-out"
  key={`card-img-${cardImageIndex}-${fadeKey}`}
>
  <ImageDisplay
    src={currentItem && currentItem.images[cardImageIndex]}
    alt={currentItem ? currentItem.title : ""}
  />
</li>
```

## 📋 圖片使用更新

### 新的使用方式：

**images[0]** - 主要圖片

- ShowPage：詳細頁面主圖
- AdminPage：管理頁面縮圖

**images[1]** - 圖片一

- MenuPage：選單列表縮圖
- Home02：卡片輪播圖片（與圖片二輪播）

**images[2]** - 圖片二

- Home02：卡片輪播圖片（與圖片一輪播）

## 💡 輪播邏輯說明

### 輪播條件

1. **有兩張圖片** - images[1] 和 images[2] 都存在
2. **圖片不重複** - 兩張圖片的路徑不相同
3. **滿足條件** → 每 3 秒輪播切換
4. **不滿足條件** → 固定顯示 images[1]

### 時間設定

- **項目輪播**：6 秒（保持原設定）
- **卡片圖片輪播**：3 秒（新功能）
- **卡片切換頻率**：項目切換的一半時間

## 🔍 視覺效果

### 之前的佈局：

```
┌─────────────────────────────────┐
│     [背景圖 - images[2]]        │ ← 固定背景
│                      ┌────┐     │
│                      │固定│     │ ← images[1]
│                      │圖片│     │
│                      └────┘     │
└─────────────────────────────────┘
```

### 現在的佈局：

```
┌─────────────────────────────────┐
│                      ┌────┐     │
│                      │動態│     │ ← images[1] ↔ images[2]
│                      │輪播│     │   每3秒切換
│                      │圖片│     │
│                      └────┘     │
└─────────────────────────────────┘
```

## 🎯 優勢

### ✅ 更好的圖片利用

- **圖片二不再浪費** - 積極參與顯示
- **動態視覺效果** - 增加頁面活力
- **避免重複顯示** - 智能判斷是否輪播

### ✅ 效能優化

- **移除背景圖** - 減少同時載入的圖片數量
- **條件渲染** - 只在需要時進行輪播

### ✅ 用戶體驗

- **更豐富的內容展示** - 同一個項目展示更多圖片
- **保持簡潔設計** - 不增加視覺複雜度

## 🧪 測試方法

### 1. 查看輪播效果

- 訪問首頁
- 觀察右上角卡片圖片
- 確認每 3 秒切換（如果有兩張不同圖片）

### 2. 檢查智能判斷

- 使用 **「📊 分析圖片」** 工具
- 查看哪些項目會輪播，哪些不會

### 3. 驗證性能

- 背景圖完全移除
- 頁面載入更快

## 📚 相關文檔更新

已更新：

- `IMAGES_USAGE_GUIDE.md` - 圖片使用說明
- `src/utils/imageAnalysis.js` - 分析工具
- `src/components/Home02.jsx` - 主要功能

## ✨ 總結

這次更新實現了您的需求：

1. ✅ **移除背景圖** - 完全拿掉左側大圖
2. ✅ **圖片二輪播** - 與圖片一在卡片中輪播
3. ✅ **智能顯示** - 自動判斷是否可以輪播
4. ✅ **更好利用** - 圖片二不再「浪費」

現在每張圖片都有明確的用途，視覺效果更加豐富！
